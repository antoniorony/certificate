<!DOCTYPE html>
<html lang="en">
<head>
<title>Assinador Web</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<style>
.js-server-status {
	/* estado inicial */
	display: none;
}
section details {
	display: none;
}
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script	src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script	src="http://malsup.github.io/jquery.blockUI.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script>
  var $serverStatus = $('.js-server-status');
  var $asDetails = $('#assinador details');
  //$asDetails.hide();
  $serverStatus.hide();

  $( function() {
    $( "#tabs" ).tabs();
  } );
</script>

</head>
<body>

    <div id="tabs" class="container">
    <ul>
	    <li><a href="#tabs-1">JNLP</a></li>
	    <li><a href="#tabs-2">Assinador SERPRO</a></li>
    </ul>

  	<div id="tabs-1" class="container">
		<h2>Exemplo de Assinatura Digital usando demoiselle certificate</h2>
		<form role="form" action="api/jnlp/generate" method="post" id="jnlpForm">
			<div class="form-group ">
				<span class="help-block">Escolha abaixo o arquivo que será assinado. O hash gerado é um exemplo de chave que pode ser usado para se criar um identificador único.</span> 
				<input type="checkbox" name="arqjnlp" value="livro.pdf" checked>livro.pdf<br>
				<input type="checkbox" name="arqjnlp" value="minecraft.jpg">minecraft.jpg<br>
				<input type="checkbox" name="arqjnlp" value="supermario.gif">supermario.gif<br>
			</div>
			<div class="form-group">
				<label for="hash">Identificador</label> <input type="text"
					class="form-control input-sm" id="hash" name="hash" readonly
					placeholder="Hash">
			</div>
			<div class="form-group">
				<label for="service">Serviço:</label> <input type="text"
					class="form-control input-sm" id="service" name="service"
					value="http://localhost:8080/assinadorweb-example/api/filemanager">
			</div>

			<button type="button" class="btn btn-default btn-sm btn-success"
				id="enviarJNLP">Gerar identificador e enviar</button>
		</form>
	</div>

  	<div id="tabs-2" class="container">
		<h2>Exemplo de Assinatura Digital usando o <a href="http://assinador.cta.serpro/">Assinador SERPRO</a></a></h2>
		<div class="d-flex">
			<div class="px-2 font-weight-bold">WebSocket Server está:</div>
			<div class="badge badge-success js-server-status js-server-status-on">ONLINE</div>
			<div class="badge badge-error js-server-status js-server-status-off">OFFLINE</div>
		</div>
		<section id="assinador">
		<form role="form" action="api/jnlp/generate" method="post" id="asForm">
			<div class="form-group ">
				<span class="help-block">Escolha abaixo o arquivo que será assinado. O hash gerado é um exemplo de chave que pode ser usado para se criar um identificador único.</span> 
				<input type="checkbox" name="arquivo" value="livro.pdf" checked>livro.pdf<br>
				<input type="checkbox" name="arquivo" value="minecraft.jpg">minecraft.jpg<br>
				<input type="checkbox" name="arquivo" value="supermario.gif">supermario.gif<br>
			</div>
			<div class="form-group">
				<label for="digest">Hash</label> <input type="text"
					class="form-control input-sm" id="hashes" name="hash" readonly
					placeholder="Hash">
			</div>
			<details>
				<label for="result">Resultado:</label>
				<textarea name="result" class="form-control" rows="3"></textarea>
			</details>

			<button type="button" class="btn btn-default btn-sm btn-success"
				id="enviarAS">Gerar identificador e enviar</button>
		</form>
		</section>
	</div>
	</div>
	
	<div id="content"></div>

	<script src="js/newjavascript.js" type="text/javascript"></script>
	<script src="js/is.min.js" type="text/javascript"></script>
	<script src="js/serpro-signer-promise.js" type="text/javascript"></script>
	<script src="js/serpro-signer-client.js" type="text/javascript"></script>
	<script src="js/serpro-client-connector.js" type="text/javascript"></script>
</body>
</html>
